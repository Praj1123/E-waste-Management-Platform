<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detailed EPR Compliance Report</title>
    <!-- Load Chart.js and Chart.js Data Labels plugin -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* General Styles */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            color: #333;
        }

        header,
        footer {
            background-color: #00796B;
            color: #fff;
            padding: 15px;
            text-align: center;
            width: 100%;
        }

        h1,
        h2,
        h3 {
            color: #00796B;
        }

        .section {
            margin-bottom: 30px;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .data-table,
        .data-table th,
        .data-table td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }

        .data-table th {
            background-color: #f4f4f4;
        }

        .chart-container {
            width: 100%;
            max-width: 600px;
            margin: auto;
            text-align: center;
        }

        .text-content {
            margin: 20px 0;
        }

        /* Button styles */
        .btn-download {
            display: block;
            margin: 0 auto;
            background-color: #00796B;
            color: white;
        }

        .btn-download:hover {
            background-color: #005b4f;
        }

        .headering {
            font-size: larger;
            font-weight: bold;
            text-decoration: dashed;
        }

        .container {
            box-shadow: #ccc;
        }
    </style>
</head>

<body>
    <div class="container border" id='download' style="width: 1200px;">
        <header style="font-size: xx-large;font-weight:bold">
            <h1 style="color: white;">EPR Compliance Report for CPCB Submission</h1>
            <i>Prepared by: HP Private Limited</i>
        </header>

        <section class="section mt-4">
            <h2 class="headering">1. Policy Background and EPR Overview</h2>
            <div class="text-content">
                <p>The E-Waste Management Policy 2022, effective from April 1, 2023, mandates the responsible
                    collection, recycling, and disposal of electronic waste through the Extended Producer Responsibility (EPR)
                    framework. This report documents HP Private Limited's adherence to quarterly targets and CPCB
                    guidelines, supporting the transition from informal to formal recycling channels to promote
                    sustainability and resource recovery.</p>
            </div>
        </section>

        <section class="section">
            <h2 class="headering">2. Stakeholder Activities Summary</h2>
            <div class="text-content">
                <p>This table summarizes activities by each stakeholder in the EPR process, highlighting the status of
                    each role in meeting the quarterly targets.</p>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Stakeholder</th>
                        <th>Activity</th>
                        <th>Status</th>
                        <th>Comments</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Manufacturer</td>
                        <td>Collection of End-of-Life Products</td>
                        <td>Completed</td>
                        <td>98% accuracy in collection volumes for Q1</td>
                    </tr>
                    <tr>
                        <td>Collection Center</td>
                        <td>Batch Creation and Dispatch</td>
                        <td>Ongoing</td>
                        <td>Batch formation at 80%; projected completion by Q2</td>
                    </tr>
                    <tr>
                        <td>Recycler</td>
                        <td>E-waste Processing and Recycling</td>
                        <td>In Progress</td>
                        <td>75% of target achieved; on track for Q2</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="section">
            <h2 class="headering">3. Quarterly Data Overview</h2>
            <div class="text-content">
                <p>The following charts provide a visual representation of HP’s quarterly e-waste management data,
                    including collected quantities, processing types, and cumulative target progress.</p>
            </div>

            <!-- Bar Chart -->
            <div class="chart-container">
                <h3>Collected E-Waste by Center (in tons)</h3>
                <canvas id="barChart"></canvas>
            </div>

            <!-- Pie Chart -->
            <div class="chart-container" style="width: 400px;">
                <h3>E-Waste Processing Breakdown</h3>
                <canvas id="pieChart"></canvas>
            </div>

            <!-- Line Chart for Cumulative Collection Progress -->
            <div class="chart-container">
                <h3>Cumulative Collection Progress (Monthly)</h3>
                <canvas id="lineChart"></canvas>
            </div>

            <!-- Stacked Bar Chart for Types of E-Waste Collected by Each Center -->
            <div class="chart-container">
                <h3>Types of E-Waste Collected by Center</h3>
                <canvas id="stackedBarChart"></canvas>
            </div>
        </section>

        <section class="section">
            <h2 class="headering">4. Environmental Impact Assessment</h2>
            <div class="text-content">
                <p>As part of the EPR compliance, HP Private Limited has reduced its environmental footprint by
                    diverting e-waste from landfills and ensuring responsible recycling practices. This quarter’s efforts have
                    minimized hazardous waste impact and contributed positively to resource conservation.</p>
                <ul>
                    <li><strong>Landfill Diversion:</strong> Diverted over 300 tons of e-waste from landfills.</li>
                    <li><strong>Reduction in Hazardous Materials:</strong> Removed harmful materials from e-waste
                        streams, including lead and mercury.</li>
                    <li><strong>Energy Conservation:</strong> Saved approximately 500 MWh of energy through recycling.
                    </li>
                </ul>
            </div>
        </section>

        <footer>
            <p>HP Private Limited, EPR Compliance Report &copy; 2024</p>
        </footer>
    </div>

    <button onclick="downloadPDF()" class="btn btn-download mt-4">Download PDF</button>

    <!-- JavaScript code to generate charts and download PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script>
        // Function to download as PDF
        function downloadPDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            doc.html(document.getElementById("download"), {
                callback: function (doc) {
                    doc.save("EPR_Compliance_Report.pdf");
                },
                x: 10,
                y: 10,
                width: 180,
            });
        }

        // Initialize charts
        const initCharts = () => {
            // Bar Chart
            new Chart(document.getElementById("barChart"), {
                type: "bar",
                data: {
                    labels: ["Center 1", "Center 2", "Center 3", "Center 4"],
                    datasets: [{
                        label: "E-Waste Collected (tons)",
                        data: [150, 200, 175, 225],
                        backgroundColor: ["#00796B", "#43A047", "#7CB342", "#AED581"],
                    }],
                },
            });

            // Pie Chart
            new Chart(document.getElementById("pieChart"), {
                type: "pie",
                data: {
                    labels: ["Recycled", "Disposed", "Resold"],
                    datasets: [{
                        data: [60, 25, 15],
                        backgroundColor: ["#00796B", "#FF8F00", "#D32F2F"],
                    }],
                },
            });

            // Line Chart
            new Chart(document.getElementById("lineChart"), {
                type: "line",
                data: {
                    labels: ["January", "February", "March", "April", "May", "June"],
                    datasets: [{
                        label: "Cumulative Collection (tons)",
                        data: [100, 200, 300, 400, 500, 600],
                        fill: false,
                        borderColor: "#00796B",
                        tension: 0.1,
                    }],
                },
            });

            // Stacked Bar Chart
            new Chart(document.getElementById("stackedBarChart"), {
                type: "bar",
                data: {
                    labels: ["Center 1", "Center 2", "Center 3", "Center 4"],
                    datasets: [{
                        label: "Electronics",
                        data: [50, 75, 60, 80],
                        backgroundColor: "#00796B",
                    }, {
                        label: "Batteries",
                        data: [40, 60, 55, 65],
                        backgroundColor: "#43A047",
                    }, {
                        label: "Plastic",
                        data: [60, 80, 70, 90],
                        backgroundColor: "#7CB342",
                    }],
                },
                options: {
                    plugins: {
                        datalabels: {
                            display: true,
                            color: 'white'
                        }
                    },
                    scales: {
                        x: { stacked: true },
                        y: { stacked: true },
                    },
                },
            });
        };

        // Run the function to initialize charts on page load
        window.onload = initCharts;
    </script>
</body>

</html>